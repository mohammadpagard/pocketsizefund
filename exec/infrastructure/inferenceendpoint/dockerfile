FROM python:3.11.6

COPY exec/infrastructure/inferenceendpoint/requirements.txt .

RUN pip3 install -r requirements.txt

COPY pkg/model/model.py pkg/model/

COPY tft_model.ckpt .

ENV DARQUBE_API_KEY=""

ENV ALPACA_API_KEY=""

ENV ALPACA_SECRET_KEY=""

ENV ALPHA_VANTAGE_API_KEY=""

ENV EDGAR_USER_AGENT=""

COPY exec/infrastructure/inferenceendpoint/entrypoint.py .

EXPOSE 8080

ENTRYPOINT ["python3", "entrypoint.py"]

CMD ["serve"]